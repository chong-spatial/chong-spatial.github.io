// @author Chong Zhang.
// Please contact me at chongzhang.nc@gmail.com if you have any questions


var _0x2ef0=["\x67\x72\x6F\x75\x70\x4C\x69\x6E\x6B\x73\x53\x74\x72\x6F\x6B\x65","\x46\x65\x61\x74\x75\x72\x65\x43\x6F\x6C\x6C\x65\x63\x74\x69\x6F\x6E","\x73\x6F\x75\x72\x63\x65","\x6E\x6F\x64\x65\x73","\x74\x61\x72\x67\x65\x74","\x46\x65\x61\x74\x75\x72\x65","\x4C\x69\x6E\x65\x53\x74\x72\x69\x6E\x67","\x78","\x79","\x69\x64","\x70\x75\x73\x68","\x66\x6F\x72\x45\x61\x63\x68","\x6C\x69\x6E\x6B\x73","\x66\x65\x61\x74\x75\x72\x65\x73","\x70\x72\x6F\x6A\x65\x63\x74\x69\x6F\x6E","\x62\x61\x73\x65\x4C\x61\x79\x65\x72","\x45\x50\x53\x47\x3A\x34\x33\x32\x36","\x46\x6F\x72\x6D\x61\x74","\x47\x72\x6F\x75\x70\x4C\x69\x6E\x6B\x73","\x4C\x61\x79\x65\x72","\x61\x64\x64\x4C\x61\x79\x65\x72","\x72\x65\x61\x64","\x61\x64\x64\x46\x65\x61\x74\x75\x72\x65\x73","\x50\x61\x72\x74\x69\x74\x69\x6F\x6E\x65\x64\x47\x72\x6F\x75\x70","\x6E\x6F\x64\x65\x53\x74\x72\x6F\x6B\x65\x52\x61\x6E\x67\x65","\x72\x61\x6E\x67\x65","\x70\x61\x67\x65\x72\x61\x6E\x6B","\x64\x6F\x6D\x61\x69\x6E","\x6C\x69\x6E\x65\x61\x72","\x73\x63\x61\x6C\x65","\x61\x66\x74\x65\x72\x41\x64\x64","\x23","\x64\x69\x76","\x73\x65\x6C\x65\x63\x74\x41\x6C\x6C","\x72\x65\x6D\x6F\x76\x65","\x73\x76\x67","\x63\x6C\x61\x73\x73","\x67\x72\x61\x70\x68","\x61\x74\x74\x72","\x61\x70\x70\x65\x6E\x64","\x72\x6F\x75\x74\x65","\x67","\x65\x6E\x74\x65\x72","\x64\x61\x74\x61","\x70\x61\x74\x68","\x67\x65\x6F","\x63\x6C\x69\x63\x6B","\x6F\x6E","\x73\x74\x72\x6F\x6B\x65\x2D\x77\x69\x64\x74\x68","\x35\x70\x78","\x73\x74\x79\x6C\x65","\x73\x74\x72\x6F\x6B\x65","\x64","\x50\x6F\x69\x6E\x74","\x6C\x65\x6E\x67\x74\x68","\x72\x61\x6E\x6B","\x7A\x69\x70","\x72\x6F\x73\x65\x5F","\x69\x6E\x6E\x65\x72\x73\x69\x7A\x65","\x72\x6F\x73\x65\x73\x69\x7A\x65","\x6C\x61\x62\x65\x6C\x70\x61\x64","\x64\x72\x61\x77","\x65\x61\x63\x68","\x63\x61\x6C\x6C","\x72\x6F\x73\x65\x67","\x6D\x6F\x76\x65\x65\x6E\x64","\x72\x65\x67\x69\x73\x74\x65\x72","\x65\x76\x65\x6E\x74\x73","\x63\x68\x61\x6E\x67\x65","\x23\x67\x72\x61\x70\x68\x70\x61\x72\x74\x20\x69\x6E\x70\x75\x74\x5B\x74\x79\x70\x65\x3D\x72\x61\x64\x69\x6F\x5D","\x7A\x6F\x6F\x6D","\x64\x69\x73\x70\x6C\x61\x79\x5A\x6F\x6F\x6D","\x64\x69\x73\x70\x6C\x61\x79","\x6E\x6F\x6E\x65","\x2E\x72\x6F\x73\x65\x67","\x6D\x61\x72\x67\x69\x6E\x2D\x74\x6F\x70","\x70\x78","\x6D\x61\x72\x67\x69\x6E\x2D\x6C\x65\x66\x74","\x68\x65\x69\x67\x68\x74","\x77\x69\x64\x74\x68","\x74\x72\x61\x6E\x73\x66\x6F\x72\x6D","\x74\x72\x61\x6E\x73\x6C\x61\x74\x65\x28","\x2C","\x29","\x45\x50\x53\x47\x3A\x39\x30\x30\x39\x31\x33","\x67\x65\x74\x56\x69\x65\x77\x50\x6F\x72\x74\x50\x78\x46\x72\x6F\x6D\x4C\x6F\x6E\x4C\x61\x74","\x4F\x52","\x4C\x6F\x67\x69\x63\x61\x6C","\x46\x69\x6C\x74\x65\x72","\x45\x51\x55\x41\x4C\x5F\x54\x4F","\x43\x6F\x6D\x70\x61\x72\x69\x73\x6F\x6E","\x70\x61\x72\x74\x69\x74\x69\x6F\x6E\x49\x44","\x73\x65\x74\x46\x69\x6C\x74\x65\x72"];function overlayAfteradd(){var _0xa0b9x2={strokeColor:colorSettings[_0x2ef0[0]],storkeWidth:1};var _0xa0b9x3={"\x74\x79\x70\x65":_0x2ef0[1]},_0xa0b9x4=[];graphdata[_0x2ef0[12]][_0x2ef0[11]](function(_0xa0b9x5){_0xa0b9x5[_0x2ef0[2]]=graphdata[_0x2ef0[3]][_0xa0b9x5[_0x2ef0[2]]];_0xa0b9x5[_0x2ef0[4]]=graphdata[_0x2ef0[3]][_0xa0b9x5[_0x2ef0[4]]];_0xa0b9x4[_0x2ef0[10]]({"\x74\x79\x70\x65":_0x2ef0[5],"\x67\x65\x6F\x6D\x65\x74\x72\x79":{"\x74\x79\x70\x65":_0x2ef0[6],"\x63\x6F\x6F\x72\x64\x69\x6E\x61\x74\x65\x73":[[_0xa0b9x5[_0x2ef0[2]][_0x2ef0[7]],_0xa0b9x5[_0x2ef0[2]][_0x2ef0[8]]],[_0xa0b9x5[_0x2ef0[4]][_0x2ef0[7]],_0xa0b9x5[_0x2ef0[4]][_0x2ef0[8]]]]},"\x70\x72\x6F\x70\x65\x72\x74\x69\x65\x73":{"\x73\x69\x64":_0xa0b9x5[_0x2ef0[2]][_0x2ef0[9]],"\x74\x69\x64":_0xa0b9x5[_0x2ef0[4]][_0x2ef0[9]]}});});_0xa0b9x3[_0x2ef0[13]]=_0xa0b9x4;var _0xa0b9x6= new OpenLayers[_0x2ef0[17]].GeoJSON({"\x69\x6E\x74\x65\x72\x6E\x61\x6C\x50\x72\x6F\x6A\x65\x63\x74\x69\x6F\x6E":map[_0x2ef0[15]][_0x2ef0[14]],"\x65\x78\x74\x65\x72\x6E\x61\x6C\x50\x72\x6F\x6A\x65\x63\x74\x69\x6F\x6E": new OpenLayers.Projection(_0x2ef0[16])});var _0xa0b9x7= new OpenLayers[_0x2ef0[19]].Vector(_0x2ef0[18],{style:_0xa0b9x2});map[_0x2ef0[20]](_0xa0b9x7);_0xa0b9x7[_0x2ef0[22]](_0xa0b9x6[_0x2ef0[21]](_0xa0b9x3));var _0xa0b9x8= new OpenLayers[_0x2ef0[19]].Vector(_0x2ef0[23]),_0xa0b9x9=d3[_0x2ef0[29]][_0x2ef0[28]]()[_0x2ef0[27]]([graphdata[_0x2ef0[26]][0],(graphdata[_0x2ef0[26]][0]+graphdata[_0x2ef0[26]][1])/2,graphdata[_0x2ef0[26]][1]])[_0x2ef0[25]](colorSettings[_0x2ef0[24]]);_0xa0b9x8[_0x2ef0[30]]=function(){var _0xa0b9xa=d3[_0x2ef0[33]](_0x2ef0[31]+_0xa0b9x8[_0x2ef0[32]][_0x2ef0[9]]);_0xa0b9xa[_0x2ef0[33]](_0x2ef0[35])[_0x2ef0[34]]();var _0xa0b9xb=_0xa0b9xa[_0x2ef0[39]](_0x2ef0[35])[_0x2ef0[38]](_0x2ef0[36],_0x2ef0[37]);var _0xa0b9xc=_0xa0b9xb[_0x2ef0[33]](_0x2ef0[41])[_0x2ef0[43]](graphdata[_0x2ef0[3]])[_0x2ef0[42]]()[_0x2ef0[39]](_0x2ef0[41])[_0x2ef0[38]](_0x2ef0[36],_0x2ef0[40]);var _0xa0b9xd=[[graphdata[_0x2ef0[7]][0],graphdata[_0x2ef0[8]][0]],[graphdata[_0x2ef0[7]][1],graphdata[_0x2ef0[8]][1]]],_0xa0b9xe=d3[_0x2ef0[45]][_0x2ef0[44]]()[_0x2ef0[14]](_0xa0b9x21);var _0xa0b9xf=_0xa0b9xc[_0x2ef0[39]](_0x2ef0[44])[_0x2ef0[38]](_0x2ef0[52],function(_0xa0b9x5){var _0xa0b9x10={"\x74\x79\x70\x65":_0x2ef0[5],"\x70\x72\x6F\x70\x65\x72\x74\x69\x65\x73":_0xa0b9x5,"\x67\x65\x6F\x6D\x65\x74\x72\x79":{"\x74\x79\x70\x65":_0x2ef0[53],"\x63\x6F\x6F\x72\x64\x69\x6E\x61\x74\x65\x73":[_0xa0b9x5[_0x2ef0[7]],_0xa0b9x5[_0x2ef0[8]]]}};return _0xa0b9xe(_0xa0b9x10);})[_0x2ef0[50]](_0x2ef0[51],function(_0xa0b9x5){return _0xa0b9x9(_0xa0b9x5[_0x2ef0[26]])})[_0x2ef0[50]](_0x2ef0[48],_0x2ef0[49])[_0x2ef0[47]](_0x2ef0[46],function(_0xa0b9x5){updateFilter(_0xa0b9x5[_0x2ef0[9]])});var _0xa0b9x11=300,_0xa0b9x12=150;var _0xa0b9x13=function(_0xa0b9x14){_0xa0b9x14[_0x2ef0[62]](function(_0xa0b9x5){var _0xa0b9x15=[];var _0xa0b9x16=d3[_0x2ef0[25]](_0xa0b9x5[_0x2ef0[55]][_0x2ef0[54]]),_0xa0b9x17=d3[_0x2ef0[56]](_0xa0b9x16,_0xa0b9x5[_0x2ef0[55]]);for(var _0xa0b9x18=0;_0xa0b9x18<_0xa0b9x17[_0x2ef0[54]];++_0xa0b9x18){_0xa0b9x15[_0x2ef0[10]]({"\x74":_0xa0b9x17[_0xa0b9x18][0],"\x72\x61\x6E\x6B":_0xa0b9x17[_0xa0b9x18][1]})};var _0xa0b9x19=roseplot(_0xa0b9x15,_0x2ef0[57]+_0xa0b9x5[_0x2ef0[9]],_0xa0b9x11,_0xa0b9x12,roseSettings[_0x2ef0[58]],roseSettings[_0x2ef0[59]],roseSettings[_0x2ef0[60]]);_0xa0b9x19[_0x2ef0[61]]();})};var _0xa0b9x1a=_0xa0b9xc[_0x2ef0[39]](_0x2ef0[41])[_0x2ef0[38]](_0x2ef0[36],_0x2ef0[64])[_0x2ef0[38]](_0x2ef0[9],function(_0xa0b9x5){return _0x2ef0[57]+_0xa0b9x5[_0x2ef0[9]]})[_0x2ef0[63]](_0xa0b9x13);map[_0x2ef0[67]][_0x2ef0[66]](_0x2ef0[65],map,_0xa0b9x1c);_0xa0b9x1c();$(_0x2ef0[69])[_0x2ef0[68]](function(){var _0xa0b9x1b=this[_0x2ef0[9]];_0xa0b9x9[_0x2ef0[27]]([graphdata[_0xa0b9x1b][0],(graphdata[_0xa0b9x1b][0]+graphdata[_0xa0b9x1b][1])/2,graphdata[_0xa0b9x1b][1]]);_0xa0b9xf[_0x2ef0[50]](_0x2ef0[51],function(_0xa0b9x5){return _0xa0b9x9(_0xa0b9x5[_0xa0b9x1b])});});function _0xa0b9x1c(){if(map[_0x2ef0[70]]<roseSettings[_0x2ef0[71]]){d3[_0x2ef0[33]](_0x2ef0[74])[_0x2ef0[50]](_0x2ef0[72],_0x2ef0[73])}else {d3[_0x2ef0[33]](_0x2ef0[74])[_0x2ef0[50]](_0x2ef0[72],null)};var _0xa0b9x1d=_0xa0b9x21(_0xa0b9xd[0]),_0xa0b9x1e=_0xa0b9x21(_0xa0b9xd[1]);_0xa0b9xb[_0x2ef0[38]](_0x2ef0[79],_0xa0b9x1e[0]-_0xa0b9x1d[0]+_0xa0b9x11)[_0x2ef0[38]](_0x2ef0[78],_0xa0b9x1d[1]-_0xa0b9x1e[1]+_0xa0b9x12)[_0x2ef0[50]](_0x2ef0[77],(_0xa0b9x1d[0]-_0xa0b9x11/2)+_0x2ef0[76])[_0x2ef0[50]](_0x2ef0[75],(_0xa0b9x1e[1]-_0xa0b9x12/2)+_0x2ef0[76]);_0xa0b9xc[_0x2ef0[38]](_0x2ef0[80],_0x2ef0[81]+-(_0xa0b9x1d[0]-_0xa0b9x11/2)+_0x2ef0[82]+-(_0xa0b9x1e[1]-_0xa0b9x12/2)+_0x2ef0[83]);_0xa0b9x1a[_0x2ef0[38]](_0x2ef0[80],_0xa0b9x1f);_0xa0b9xf[_0x2ef0[38]](_0x2ef0[52],function(_0xa0b9x5){var _0xa0b9x10={"\x74\x79\x70\x65":_0x2ef0[5],"\x70\x72\x6F\x70\x65\x72\x74\x69\x65\x73":_0xa0b9x5,"\x67\x65\x6F\x6D\x65\x74\x72\x79":{"\x74\x79\x70\x65":_0x2ef0[53],"\x63\x6F\x6F\x72\x64\x69\x6E\x61\x74\x65\x73":[_0xa0b9x5[_0x2ef0[7]],_0xa0b9x5[_0x2ef0[8]]]}};return _0xa0b9xe(_0xa0b9x10);});}function _0xa0b9x1f(_0xa0b9x5){var _0xa0b9x20=[_0xa0b9x5[_0x2ef0[7]],_0xa0b9x5[_0x2ef0[8]]];_0xa0b9x5=_0xa0b9x21(_0xa0b9x20);return _0x2ef0[81]+_0xa0b9x5[0]+_0x2ef0[82]+_0xa0b9x5[1]+_0x2ef0[83];}function _0xa0b9x21(_0xa0b9x22){var _0xa0b9x23=map[_0x2ef0[85]]( new OpenLayers.LonLat(_0xa0b9x22[0],_0xa0b9x22[1])[_0x2ef0[80]](_0x2ef0[16],_0x2ef0[84]));return [_0xa0b9x23[_0x2ef0[7]],_0xa0b9x23[_0x2ef0[8]]];}};map[_0x2ef0[20]](_0xa0b9x8);}function updateFilter(_0xa0b9x25){var _0xa0b9x26= new OpenLayers[_0x2ef0[88]].Logical({type:OpenLayers[_0x2ef0[88]][_0x2ef0[87]][_0x2ef0[86]],filters:[ new OpenLayers[_0x2ef0[88]].Comparison({type:OpenLayers[_0x2ef0[88]][_0x2ef0[90]][_0x2ef0[89]],property:_0x2ef0[91],value:_0xa0b9x25})]});filterStrategy[_0x2ef0[92]](_0xa0b9x26);}
