(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.maxInscribedCircle = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
function pointOnLine(e,t){for(var r="miles",i=point([1/0,1/0],{dist:1/0}),o=0;o<t.length-1;o++){var n=point(t[o]),s=point(t[o+1]);n.properties.dist=distance(e,n,r),s.properties.dist=distance(e,s,r);var d=bearing(n,s),a=destination(e,1e3,d+90,r),p=lineIntersects(e.geometry.coordinates[0],e.geometry.coordinates[1],a.geometry.coordinates[0],a.geometry.coordinates[1],n.geometry.coordinates[0],n.geometry.coordinates[1],s.geometry.coordinates[0],s.geometry.coordinates[1]);p||(a=destination(e,1e3,d-90,r),p=lineIntersects(e.geometry.coordinates[0],e.geometry.coordinates[1],a.geometry.coordinates[0],a.geometry.coordinates[1],n.geometry.coordinates[0],n.geometry.coordinates[1],s.geometry.coordinates[0],s.geometry.coordinates[1])),a.properties.dist=1/0;var c;if(p){var c=point(p);c.properties.dist=distance(e,c,r)}n.properties.dist<i.properties.dist&&(i=n,i.properties.index=o),s.properties.dist<i.properties.dist&&(i=s,i.properties.index=o),c&&c.properties.dist<i.properties.dist&&(i=c,i.properties.index=o)}return i}function lineIntersects(e,t,r,i,o,n,s,d){var a,p,c,g,u,y={x:null,y:null,onLine1:!1,onLine2:!1};return a=(d-n)*(r-e)-(s-o)*(i-t),0==a?null!=y.x&&null!=y.y?y:!1:(p=t-n,c=e-o,g=(s-o)*p-(d-n)*c,u=(r-e)*p-(i-t)*c,p=g/a,c=u/a,y.x=e+p*(r-e),y.y=t+p*(i-t),p>=0&&1>=p&&(y.onLine1=!0),c>=0&&1>=c&&(y.onLine2=!0),y.onLine1&&y.onLine2?[y.x,y.y]:!1)}var distance=require("turf-distance"),point=require("turf-point"),linestring=require("turf-linestring"),bearing=require("turf-bearing"),destination=require("turf-destination");module.exports=function(e,t){var r;if("Feature"===e.type)r=e.geometry.coordinates;else{if("LineString"!==e.type)throw new Error("input must be a LineString Feature or Geometry");r=e.geometry.coordinates}return pointOnLine(t,r)};
},{"turf-bearing":9,"turf-destination":11,"turf-distance":12,"turf-linestring":17,"turf-point":19}],2:[function(require,module,exports){
var Voronoi=require("voronoi"),voronoi=new Voronoi,centroid=require("turf-centroid"),point=require("turf-point"),pointOnLine=require("./lib/turf-point-on-line/index.js"),within=require("turf-within"),makeError=require("make-error"),NoPointsInShapeError=makeError("NoPointsInShapeError"),GeoJSONUtils=require("./utils/geojson-utils.js");module.exports=function(e,r){e=GeoJSONUtils.fixMultiPoly(e);for(var t=GeoJSONUtils.sites(e,r),o=voronoi.compute(t.sites,t.bbox),i={type:"FeatureCollection",features:[]},n=0;n<o.vertices.length;n++)i.features.push({type:"Feature",properties:{},geometry:{type:"Point",coordinates:[o.vertices[n].x,o.vertices[n].y]}});i.features.push(centroid(e));var s={type:"FeatureCollection",features:[e]},a=within(i,s);if(0==a.features.length)throw new NoPointsInShapeError("Neither the centroid nor any Voronoi vertices intersect the shape.");for(var u,p={coordinates:[0,0],maxDist:0},f={type:"FeatureCollection",features:[]},c=0;c<e.geometry.coordinates.length;c++)f.features.push({type:"Feature",properties:{},geometry:{type:"LineString",coordinates:e.geometry.coordinates[c]}});for(var h=0;h<a.features.length;h++){for(var l=0;l<f.features.length;l++)u=0==l?pointOnLine(f.features[l],a.features[h]).properties.dist:Math.min(u,pointOnLine(f.features[l],a.features[h]).properties.dist);u>p.maxDist&&(p.coordinates=a.features[h].geometry.coordinates,p.maxDist=u)}return point(p.coordinates)},module.exports.NoPointsInShapeError=NoPointsInShapeError;
},{"./lib/turf-point-on-line/index.js":1,"./utils/geojson-utils.js":25,"make-error":6,"turf-centroid":10,"turf-point":19,"turf-within":20,"voronoi":23}],3:[function(require,module,exports){
function geometry(e){var r,t=0;switch(e.type){case"Polygon":return polygonArea(e.coordinates);case"MultiPolygon":for(r=0;r<e.coordinates.length;r++)t+=polygonArea(e.coordinates[r]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(r=0;r<e.geometries.length;r++)t+=geometry(e.geometries[r]);return t}}function polygonArea(e){var r=0;if(e&&e.length>0){r+=Math.abs(ringArea(e[0]));for(var t=1;t<e.length;t++)r-=Math.abs(ringArea(e[t]))}return r}function ringArea(e){var r,t,n,o,a,g,s=0,l=e.length;if(l>2){for(i=0;i<l;i++)i===l-2?(o=l-2,a=l-1,g=0):i===l-1?(o=l-1,a=0,g=1):(o=i,a=i+1,g=i+2),r=e[o],t=e[a],n=e[g],s+=(rad(n[0])-rad(r[0]))*Math.sin(rad(t[1]));s=s*wgs84.RADIUS*wgs84.RADIUS/2}return s}function rad(e){return e*Math.PI/180}var wgs84=require("wgs84");module.exports.geometry=geometry,module.exports.ring=ringArea;
},{"wgs84":24}],4:[function(require,module,exports){
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};
},{}],5:[function(require,module,exports){
(function (global){
!function(n,t){function e(n){return n&&n.__wrapped__?n:this instanceof e?void(this.__wrapped__=n):new e(n)}function r(n,t,e){t||(t=0);var r=n.length,u=r-t>=(e||rt);if(u)for(var o={},i=t-1;++i<r;){var a=n[i]+"";(Et.call(o,a)?o[a]:o[a]=[]).push(n[i])}return function(e){if(u){var r=e+"";return Et.call(o,r)&&fn(o[r],e)>-1}return fn(n,e,t)>-1}}function u(n){return n.charCodeAt(0)}function o(n,e){var r=n.index,u=e.index;if(n=n.criteria,e=e.criteria,n!==e){if(n>e||n===t)return 1;if(e>n||e===t)return-1}return u>r?-1:1}function i(n,t,e){function r(){var a=arguments,c=o?this:t;if(u||(n=t[i]),e.length&&(a=a.length?e.concat(kt.call(a)):e),this instanceof r){s.prototype=n.prototype,c=new s;var l=n.apply(c,a);return k(l)?l:c}return n.apply(c,a)}var u=O(n),o=!e,i=n;return o&&(e=t),r}function a(n,e){return n?"function"!=typeof n?function(t){return t[n]}:e!==t?function(t,r,u){return n.call(e,t,r,u)}:n:Rn}function c(){for(var n,t={arrayLoop:"",bottom:"",hasDontEnumBug:Yn,isKeysFast:ne,objectLoop:"",noArgsEnum:Gt,noCharByIndex:Wt,shadowed:dt,top:"",useHas:!0},e=0;n=arguments[e];e++)for(var r in n)t[r]=n[r];var u=t.args;t.firstArg=/^[^,]+/.exec(u)[0];var o=Function("createCallback, hasOwnProperty, isArguments, isString, objectTypes, nativeKeys, propertyIsEnumerable","return function("+u+") {\n"+oe(t)+"\n}");return o(a,Et,v,D,re,Pt,Ot)}function l(n){return"\\"+ue[n]}function f(n){return se[n]}function s(){}function p(n){return pe[n]}function v(n){return Lt.call(n)==Rt}function h(n){var t=!1;if(!n||"object"!=typeof n||v(n))return t;var e=n.constructor;return Xt&&"function"!=typeof n.toString&&"string"==typeof(n+"")||O(e)&&!(e instanceof e)?t:Zn?(le(n,function(n,e,r){return t=!Et.call(r,e),!1}),t===!1):(le(n,function(n,e){t=e}),t===!1||Et.call(n,t))}function g(n){var t=[];return fe(n,function(n,e){t.push(e)}),t}function y(n,t,e,r,u){if(null==n)return n;e&&(t=!1);var o=k(n);if(o){var i=Lt.call(n);if(!ee[i]||Jt&&v(n))return n;var a=i==Ht;o=a||(i==Kt?ye(n):o)}if(!o||!t)return o?a?kt.call(n):he({},n):n;var c=n.constructor;switch(i){case Nt:case qt:return new c(+n);case Mt:case Ut:return new c(n);case zt:return c(n.source,ft.exec(n))}r||(r=[]),u||(u=[]);for(var l=r.length;l--;)if(r[l]==n)return u[l];var f=a?c(n.length):{};return r.push(n),u.push(f),(a?de:fe)(n,function(n,e){f[e]=y(n,t,null,r,u)}),f}function _(n){var t=[];return le(n,function(n,e){O(n)&&t.push(e)}),t.sort()}function d(n,t){return n?Et.call(n,t):!1}function b(n){var t={};return fe(n,function(n,e){t[n]=e}),t}function m(n){return n===!0||n===!1||Lt.call(n)==Nt}function x(n){return Lt.call(n)==qt}function w(n){return n?1===n.nodeType:!1}function j(n){var t=!0;if(!n)return t;var e=Lt.call(n),r=n.length;return e==Ht||e==Ut||e==Rt||Jt&&v(n)||e==Kt&&"number"==typeof r&&O(n.splice)?!r:(fe(n,function(){return t=!1}),t)}function E(n,t,e,r){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;var u=Lt.call(n);if(u!=Lt.call(t))return!1;switch(u){case Nt:case qt:return+n==+t;case Mt:return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case zt:case Ut:return n==t+""}var o=u==Ht||u==Rt;if(Jt&&!o&&(o=v(n))&&!v(t))return!1;if(!o){if(n.__wrapped__||t.__wrapped__)return E(n.__wrapped__||n,t.__wrapped__||t);if(u!=Kt||Xt&&("function"!=typeof n.toString&&"string"==typeof(n+"")||"function"!=typeof t.toString&&"string"==typeof(t+"")))return!1;var i=n.constructor,a=t.constructor;if(i!=a&&!(O(i)&&i instanceof i&&O(a)&&a instanceof a))return!1}e||(e=[]),r||(r=[]);for(var c=e.length;c--;)if(e[c]==n)return r[c]==t;var l=-1,f=!0,s=0;if(e.push(n),r.push(t),o){if(s=n.length,f=s==t.length)for(;s--&&(f=E(n[s],t[s],e,r)););return f}for(var p in n)if(Et.call(n,p)&&(s++,!Et.call(t,p)||!E(n[p],t[p],e,r)))return!1;for(p in t)if(Et.call(t,p)&&!s--)return!1;if(Yn)for(;++l<7;)if(p=dt[l],Et.call(n,p)&&(!Et.call(t,p)||!E(n[p],t[p],e,r)))return!1;return!0}function A(n){return Bt(n)&&!Dt(parseFloat(n))}function O(n){return"function"==typeof n}function k(n){return n?re[typeof n]:!1}function L(n){return Lt.call(n)==Mt&&n!=+n}function I(n){return null===n}function S(n){return Lt.call(n)==Mt}function B(n){return Lt.call(n)==zt}function D(n){return Lt.call(n)==Ut}function P(n){return n===t}function $(n,t,e){var r=arguments,u=0,o=2,i=r[3],a=r[4];for(e!==tt&&(i=[],a=[],o=r.length);++u<o;)fe(r[u],function(t,e){var r,u,o;if(t&&((u=ge(t))||ye(t))){for(var c=i.length;c--&&!(r=i[c]==t););r?n[e]=a[c]:(i.push(t),a.push((o=n[e],o=u?ge(o)?o:[]:ye(o)?o:{})),n[e]=$(o,t,tt,i,a))}else null!=t&&(n[e]=t)});return n}function F(n,t,e){var r="function"==typeof t,u={};if(r)t=a(t,e);else var o=xt.apply(nt,arguments);return le(n,function(n,e,i){(r?!t(n,e,i):fn(o,e,1)<0)&&(u[e]=n)}),u}function T(n){var t=[];return fe(n,function(n,e){t.push([e,n])}),t}function R(n,t,e){var r={};if("function"!=typeof t)for(var u=0,o=xt.apply(nt,arguments),i=o.length;++u<i;){var c=o[u];c in n&&(r[c]=n[c])}else t=a(t,e),le(n,function(n,e,u){t(n,e,u)&&(r[e]=n)});return r}function H(n){var t=[];return fe(n,function(n){t.push(n)}),t}function N(n,t,e){var r=-1,u=n?n.length:0;return e=(0>e?$t(0,u+e):e)||0,"number"==typeof u?(D(n)?n.indexOf(t,e):fn(n,t,e))>-1:tn(n,function(n){return++r>=e&&n===t})}function q(n,t,e){var r={};return t=a(t,e),de(n,function(n,e,u){e=t(n,e,u),Et.call(r,e)?r[e]++:r[e]=1}),r}function C(n,t,e){var r=!0;if(t=a(t,e),ge(n))for(var u=-1,o=n.length;++u<o&&(r=!!t(n[u],u,n)););else de(n,function(n,e,u){return r=!!t(n,e,u)});return r}function M(n,t,e){var r=[];return t=a(t,e),de(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function K(n,t,e){var r;return t=a(t,e),de(n,function(n,e,u){return t(n,e,u)?(r=n,!1):void 0}),r}function z(n,t,e){var r={};return t=a(t,e),de(n,function(n,e,u){e=t(n,e,u),(Et.call(r,e)?r[e]:r[e]=[]).push(n)}),r}function U(n,t){var e=kt.call(arguments,2),r="function"==typeof t,u=[];return de(n,function(n){u.push((r?t:n[t]).apply(n,e))}),u}function V(n,t,e){var r=-1,u=n?n.length:0,o=Array("number"==typeof u?u:0);if(t=a(t,e),ge(n))for(;++r<u;)o[r]=t(n[r],r,n);else de(n,function(n,e,u){o[++r]=t(n,e,u)});return o}function G(n,t,e){var r=-(1/0),o=-1,i=n?n.length:0,c=r;if(t||!ge(n))t=!t&&D(n)?u:a(t,e),de(n,function(n,e,u){var o=t(n,e,u);o>r&&(r=o,c=n)});else for(;++o<i;)n[o]>c&&(c=n[o]);return c}function J(n,t,e){var r=1/0,o=-1,i=n?n.length:0,c=r;if(t||!ge(n))t=!t&&D(n)?u:a(t,e),de(n,function(n,e,u){var o=t(n,e,u);r>o&&(r=o,c=n)});else for(;++o<i;)n[o]<c&&(c=n[o]);return c}function Q(n,t){var e=[];return de(n,function(n){e.push(n[t])}),e}function W(n,t,e,r){var u=arguments.length<3;return t=a(t,r),de(n,function(n,r,o){e=u?(u=!1,n):t(e,n,r,o)}),e}function X(n,t,e,r){var u=n,o=n?n.length:0,i=arguments.length<3;if("number"!=typeof o){var a=_e(n);o=a.length}else Wt&&D(n)&&(u=n.split(""));return de(n,function(n,c,l){c=a?a[--o]:--o,e=i?(i=!1,u[c]):t.call(r,e,u[c],c,l)}),e}function Y(n,t,e){return t=a(t,e),M(n,function(n,e,r){return!t(n,e,r)})}function Z(n){var t=-1,e=Array(n?n.length:0);return de(n,function(n){var r=wt(Tt()*(++t+1));e[t]=e[r],e[r]=n}),e}function nn(n){var t=n?n.length:0;return"number"==typeof t?t:_e(n).length}function tn(n,t,e){var r;if(t=a(t,e),ge(n))for(var u=-1,o=n.length;++u<o&&!(r=t(n[u],u,n)););else de(n,function(n,e,u){return!(r=t(n,e,u))});return!!r}function en(n,t,e){var r=[];t=a(t,e),de(n,function(n,e,u){r.push({criteria:t(n,e,u),index:e,value:n})});var u=r.length;for(r.sort(o);u--;)r[u]=r[u].value;return r}function rn(n){return n&&"number"==typeof n.length?(Qt?D(n):"string"==typeof n)?n.split(""):kt.call(n):H(n)}function un(n,t){var e=[];return le(t,function(n,t){e.push(t)}),M(n,function(n){for(var r=e.length;r--;){var u=n[e[r]]===t[e[r]];if(!u)break}return!!u})}function on(n){for(var t=-1,e=n?n.length:0,r=[];++t<e;){var u=n[t];u&&r.push(u)}return r}function an(n){for(var t=-1,e=n?n.length:0,u=xt.apply(nt,arguments),o=r(u,e),i=[];++t<e;){var a=n[t];o(a)||i.push(a)}return i}function cn(n,t,e){return n?null==t||e?n[0]:kt.call(n,0,t):void 0}function ln(n,t){for(var e=-1,r=n?n.length:0,u=[];++e<r;){var o=n[e];ge(o)?At.apply(u,t?o:ln(o)):u.push(o)}return u}function fn(n,t,e){var r=-1,u=n?n.length:0;if("number"==typeof e)r=(0>e?$t(0,u+e):e||0)-1;else if(e)return r=dn(n,t),n[r]===t?r:-1;for(;++r<u;)if(n[r]===t)return r;return-1}function sn(n,t,e){return n?kt.call(n,0,-(null==t||e?1:t)):[]}function pn(n){var t=arguments,e=t.length,u={},o=[];return de(n,function(n){if(fn(o,n)<0){for(var i=e;--i;)if(!(u[i]||(u[i]=r(t[i])))(n))return;o.push(n)}}),o}function vn(n,t,e){if(n){var r=n.length;return null==t||e?n[r-1]:kt.call(n,-t||r)}}function hn(n,t,e){var r=n?n.length:0;for("number"==typeof e&&(r=(0>e?$t(0,r+e):Ft(e,r-1))+1);r--;)if(n[r]===t)return r;return-1}function gn(n,t){for(var e=-1,r=n?n.length:0,u={};++e<r;){var o=n[e];t?u[o]=t[e]:u[o[0]]=o[1]}return u}function yn(n,t,e){n=+n||0,e=+e||1,null==t&&(t=n,n=0);for(var r=-1,u=$t(0,mt((t-n)/e)),o=Array(u);++r<u;)o[r]=n,n+=e;return o}function _n(n,t,e){return n?kt.call(n,null==t||e?1:t):[]}function dn(n,t,e,r){var u=0,o=n?n.length:u;for(e=e?a(e,r):Rn,t=e(t);o>u;){var i=u+o>>>1;e(n[i])<t?u=i+1:o=i}return u}function bn(){return mn(xt.apply(nt,arguments))}function mn(n,t,e,r){var u=-1,o=n?n.length:0,i=[],c=i;"function"==typeof t&&(r=e,e=t,t=!1);var l=!t&&o>74;if(l)var f={};for(e&&(c=[],e=a(e,r));++u<o;){var s=n[u],p=e?e(s,u,n):s;l&&(c=Et.call(f,p+"")?f[p]:f[p]=[]),(t?!u||c[c.length-1]!==p:fn(c,p)<0)&&((e||l)&&c.push(p),i.push(s))}return i}function xn(n){for(var t=-1,e=n?n.length:0,u=r(arguments,1,20),o=[];++t<e;){var i=n[t];u(i)||o.push(i)}return o}function wn(n){for(var t=-1,e=n?G(Q(arguments,"length")):0,r=Array(e);++t<e;)r[t]=Q(arguments,t);return r}function jn(n,t){return 1>n?t():function(){return--n<1?t.apply(this,arguments):void 0}}function En(n,t){return Zt||It&&arguments.length>2?It.call.apply(It,arguments):i(n,t,kt.call(arguments,2))}function An(n){for(var t=arguments,e=t.length>1?0:(t=_(n),-1),r=t.length;++e<r;){var u=t[e];n[u]=En(n[u],n)}return n}function On(){var n=arguments;return function(){for(var t=arguments,e=n.length;e--;)t=[n[e].apply(this,t)];return t[0]}}function kn(n,t,e){function r(){a=null,e||(o=n.apply(i,u))}var u,o,i,a;return function(){var c=e&&!a;return u=arguments,i=this,clearTimeout(a),a=setTimeout(r,t),c&&(o=n.apply(i,u)),o}}function Ln(n,e){var r=kt.call(arguments,2);return setTimeout(function(){n.apply(t,r)},e)}function In(n){var e=kt.call(arguments,1);return setTimeout(function(){n.apply(t,e)},1)}function Sn(n,t){return i(t,n,kt.call(arguments,2))}function Bn(n,t){var e={};return function(){var r=t?t.apply(this,arguments):arguments[0];return Et.call(e,r)?e[r]:e[r]=n.apply(this,arguments)}}function Dn(n){var t,e=!1;return function(){return e?t:(e=!0,t=n.apply(this,arguments),n=null,t)}}function Pn(n){return i(n,kt.call(arguments,1))}function $n(n,t){function e(){a=new Date,i=null,u=n.apply(o,r)}var r,u,o,i,a=0;return function(){var c=new Date,l=t-(c-a);return r=arguments,o=this,0>=l?(clearTimeout(i),a=c,u=n.apply(o,r)):i||(i=setTimeout(e,l)),u}}function Fn(n,t){return function(){var e=[n];return At.apply(e,arguments),t.apply(this,e)}}function Tn(n){return null==n?"":(n+"").replace(yt,f)}function Rn(n){return n}function Hn(n){de(_(n),function(t){var r=e[t]=n[t];e.prototype[t]=function(){var n=[this.__wrapped__];At.apply(n,arguments);var t=r.apply(e,n);return this.__chain__&&(t=new e(t),t.__chain__=!0),t}})}function Nn(){return n._=ut,this}function qn(n,t){return null==n&&null==t&&(t=1),n=+n||0,null==t&&(t=n,n=0),n+wt(Tt()*((+t||0)-n+1))}function Cn(n,t){var e=n?n[t]:null;return O(e)?n[t]():e}function Mn(n,t,r){n||(n=""),r||(r={});var u,o,i=e.templateSettings,a=0,c=r.interpolate||i.interpolate||gt,f="__p += '",s=r.variable||i.variable,p=s,v=RegExp((r.escape||i.escape||gt).source+"|"+c.source+"|"+(c===ht?vt:gt).source+"|"+(r.evaluate||i.evaluate||gt).source+"|$","g");if(n.replace(v,function(t,e,r,o,i,c){r||(r=o),f+=n.slice(a,c).replace(_t,l),f+=e?"' +\n__e("+e+") +\n'":i?"';\n"+i+";\n__p += '":r?"' +\n((__t = ("+r+")) == null ? '' : __t) +\n'":"",u||(u=i||ot.test(e||r)),a=c+t.length}),f+="';\n",!p)if(s="obj",u)f="with ("+s+") {\n"+f+"\n}\n";else{var h=RegExp("(\\(\\s*)"+s+"\\."+s+"\\b","g");f=f.replace(st,"$&"+s+".").replace(h,"$1__d")}f=(u?f.replace(at,""):f).replace(ct,"$1").replace(lt,"$1;"),f="function("+s+") {\n"+(p?"":s+" || ("+s+" = {});\n")+"var __t, __p = '', __e = _.escape"+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":(p?"":", __d = "+s+"."+s+" || "+s)+";\n")+f+"return __p\n}";var g=te?"\n//@ sourceURL="+(r.sourceURL||"/lodash/template/source["+bt++ +"]"):"";try{o=Function("_","return "+f+g)(e)}catch(y){throw y.source=f,y}return t?o(t):(o.source=f,o)}function Kn(n,t,e){n=+n||0;for(var r=-1,u=Array(n);++r<n;)u[r]=t.call(e,r);return u}function zn(n){return null==n?"":(n+"").replace(it,p)}function Un(n){var t=et++;return n?n+t:t}function Vn(n){return n=new e(n),n.__chain__=!0,n}function Gn(n,t){return t(n),n}function Jn(){return this.__chain__=!0,this}function Qn(){return this.__wrapped__}var Wn="object"==typeof exports&&exports,Xn="object"==typeof global&&global;Xn.global===Xn&&(n=Xn);var Yn,Zn,nt=[],tt=new function(){},et=0,rt=30,ut=n._,ot=/[-?+=!~*%&^<>|{(\/]|\[\D|\b(?:delete|in|instanceof|new|typeof|void)\b/,it=/&(?:amp|lt|gt|quot|#x27);/g,at=/\b__p \+= '';/g,ct=/\b(__p \+=) '' \+/g,lt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ft=/\w*$/,st=/(?:__e|__t = )\(\s*(?![\d\s"']|this\.)/g,pt=RegExp("^"+(tt.valueOf+"").replace(/[.*+?^=!:${}()|[\]\/\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),vt=/\$\{((?:(?=\\?)\\?[\s\S])*?)}/g,ht=/<%=([\s\S]+?)%>/g,gt=/($^)/,yt=/[&<>"']/g,_t=/['\n\r\t\u2028\u2029\\]/g,dt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],bt=0,mt=Math.ceil,xt=nt.concat,wt=Math.floor,jt=pt.test(jt=Object.getPrototypeOf)&&jt,Et=tt.hasOwnProperty,At=nt.push,Ot=tt.propertyIsEnumerable,kt=nt.slice,Lt=tt.toString,It=pt.test(It=kt.bind)&&It,St=pt.test(St=Array.isArray)&&St,Bt=n.isFinite,Dt=n.isNaN,Pt=pt.test(Pt=Object.keys)&&Pt,$t=Math.max,Ft=Math.min,Tt=Math.random,Rt="[object Arguments]",Ht="[object Array]",Nt="[object Boolean]",qt="[object Date]",Ct="[object Function]",Mt="[object Number]",Kt="[object Object]",zt="[object RegExp]",Ut="[object String]",Vt=(Vt={0:1,length:1},nt.splice.call(Vt,0,1),Vt[0]),Gt=!0;!function(){function n(){this.x=1}var t=[];n.prototype={valueOf:1,y:1};for(var e in new n)t.push(e);for(e in arguments)Gt=!e;Yn=!/valueOf/.test(t),Zn="x"!=t[0]}(1);var Jt=!v(arguments),Qt="x"!=kt.call("x")[0],Wt="x"[0]+Object("x")[0]!="xx";try{var Xt=Lt.call(n.document||0)==Kt}catch(Yt){}var Zt=It&&/\n|Opera/.test(It+Lt.call(n.opera)),ne=Pt&&/^.+$|true/.test(Pt+!!n.attachEvent);try{var te=(Function("//@")(),!n.attachEvent)}catch(Yt){}var ee={};ee[Rt]=ee[Ct]=!1,ee[Ht]=ee[Nt]=ee[qt]=ee[Mt]=ee[Kt]=ee[zt]=ee[Ut]=!0;var re={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},ue={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"};e.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:ht,variable:""};var oe=Mn("<% if (obj.useStrict) { %>'use strict';\n<% } %>var index, value, iteratee = <%= firstArg %>, result = <%= firstArg %>;\nif (!<%= firstArg %>) return result;\n<%= top %>;\n<% if (arrayLoop) { %>var length = iteratee.length; index = -1;\nif (typeof length == 'number') {  <% if (noCharByIndex) { %>\n  if (isString(iteratee)) {\n    iteratee = iteratee.split('')\n  }  <% } %>\n  while (++index < length) {\n    value = iteratee[index];\n    <%= arrayLoop %>\n  }\n}\nelse {  <%  } else if (noArgsEnum) { %>\n  var length = iteratee.length; index = -1;\n  if (length && isArguments(iteratee)) {\n    while (++index < length) {\n      value = iteratee[index += ''];\n      <%= objectLoop %>\n    }\n  } else {  <% } %>  <% if (!hasDontEnumBug) { %>\n  var skipProto = typeof iteratee == 'function' && \n    propertyIsEnumerable.call(iteratee, 'prototype');\n  <% } %>  <% if (isKeysFast && useHas) { %>\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iteratee] ? nativeKeys(iteratee) : [],\n      length = ownProps.length;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n    <% if (!hasDontEnumBug) { %>if (!(skipProto && index == 'prototype')) {\n  <% } %>    value = iteratee[index];\n    <%= objectLoop %>\n    <% if (!hasDontEnumBug) { %>}\n<% } %>  }  <% } else { %>\n  for (index in iteratee) {<%    if (!hasDontEnumBug || useHas) { %>\n    if (<%      if (!hasDontEnumBug) { %>!(skipProto && index == 'prototype')<% }      if (!hasDontEnumBug && useHas) { %> && <% }      if (useHas) { %>hasOwnProperty.call(iteratee, index)<% }    %>) {    <% } %>\n    value = iteratee[index];\n    <%= objectLoop %>;    <% if (!hasDontEnumBug || useHas) { %>\n    }<% } %>\n  }  <% } %>  <% if (hasDontEnumBug) { %>\n\n  var ctor = iteratee.constructor;\n    <% for (var k = 0; k < 7; k++) { %>\n  index = '<%= shadowed[k] %>';\n  if (<%      if (shadowed[k] == 'constructor') {        %>!(ctor && ctor.prototype === iteratee) && <%      } %>hasOwnProperty.call(iteratee, index)) {\n    value = iteratee[index];\n    <%= objectLoop %>\n  }    <% } %>  <% } %>  <% if (arrayLoop || noArgsEnum) { %>\n}<% } %>\n<%= bottom %>;\nreturn result"),ie={args:"collection, callback, thisArg",top:"callback = createCallback(callback, thisArg)",arrayLoop:"if (callback(value, index, collection) === false) return result",objectLoop:"if (callback(value, index, collection) === false) return result"},ae={useHas:!1,args:"object",top:"for (var argsIndex = 1, argsLength = arguments.length; argsIndex < argsLength; argsIndex++) {\n  if (iteratee = arguments[argsIndex]) {",objectLoop:"result[index] = value",bottom:"  }\n}"},ce={arrayLoop:null};Jt&&(v=function(n){return n?Et.call(n,"callee"):!1});var le=c(ie,ce,{useHas:!1}),fe=c(ie,ce),se={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},pe=b(se),ve=c(ae,{objectLoop:"if (result[index] == null) "+ae.objectLoop}),he=c(ae),ge=St||function(n){return Lt.call(n)==Ht};O(/x/)&&(O=function(n){return Lt.call(n)==Ct});var ye=jt?function(n){if(!n||"object"!=typeof n)return!1;var t=n.valueOf,e="function"==typeof t&&(e=jt(t))&&jt(e);return e?n==e||jt(n)==e&&!v(n):h(n)}:h,_e=Pt?function(n){return"function"==typeof n&&Ot.call(n,"prototype")?g(n):k(n)?Pt(n):[]}:g,de=c(ie);e.VERSION="0.9.2",e.after=jn,e.bind=En,e.bindAll=An,e.chain=Vn,e.clone=y,e.compact=on,e.compose=On,e.contains=N,e.countBy=q,e.debounce=kn,e.defaults=ve,e.defer=In,e.delay=Ln,e.difference=an,e.escape=Tn,e.every=C,e.extend=he,e.filter=M,e.find=K,e.first=cn,e.flatten=ln,e.forEach=de,e.forIn=le,e.forOwn=fe,e.functions=_,e.groupBy=z,e.has=d,e.identity=Rn,e.indexOf=fn,e.initial=sn,e.intersection=pn,e.invert=b,e.invoke=U,e.isArguments=v,e.isArray=ge,e.isBoolean=m,e.isDate=x,e.isElement=w,e.isEmpty=j,e.isEqual=E,e.isFinite=A,e.isFunction=O,e.isNaN=L,e.isNull=I,e.isNumber=S,e.isObject=k,e.isPlainObject=ye,e.isRegExp=B,e.isString=D,e.isUndefined=P,e.keys=_e,e.last=vn,e.lastIndexOf=hn,e.lateBind=Sn,e.map=V,e.max=G,e.memoize=Bn,e.merge=$,e.min=J,e.mixin=Hn,e.noConflict=Nn,e.object=gn,e.omit=F,e.once=Dn,e.pairs=T,e.partial=Pn,e.pick=R,e.pluck=Q,e.random=qn,e.range=yn,e.reduce=W,e.reduceRight=X,e.reject=Y,e.rest=_n,e.result=Cn,e.shuffle=Z,e.size=nn,e.some=tn,e.sortBy=en,e.sortedIndex=dn,e.tap=Gn,e.template=Mn,e.throttle=$n,e.times=Kn,e.toArray=rn,e.unescape=zn,e.union=bn,e.uniq=mn,e.uniqueId=Un,e.values=H,e.where=un,e.without=xn,e.wrap=Fn,e.zip=wn,e.all=C,e.any=tn,e.collect=V,e.detect=K,e.drop=_n,e.each=de,e.foldl=W,e.foldr=X,e.head=cn,e.include=N,e.inject=W,e.methods=_,e.select=M,e.tail=_n,e.take=cn,e.unique=mn,e._iteratorTemplate=oe,Hn(e),e.prototype.chain=Jn,e.prototype.value=Qn,de(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=nt[n];e.prototype[n]=function(){var n=this.__wrapped__;return t.apply(n,arguments),Vt&&0===n.length&&delete n[0],this.__chain__&&(n=new e(n),n.__chain__=!0),n}}),de(["concat","join","slice"],function(n){var t=nt[n];e.prototype[n]=function(){var n=this.__wrapped__,r=t.apply(n,arguments);return this.__chain__&&(r=new e(r),r.__chain__=!0),r}}),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(n._=e,define(function(){return e})):Wn?"object"==typeof module&&module&&module.exports==Wn?(module.exports=e)._=e:Wn._=e:n._=e}(this);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],6:[function(require,module,exports){
"use strict";function BaseError(r){r&&defineProperty(this,"message",{configurable:!0,value:r,writable:!0});var e=this.constructor.name;e&&e!==this.name&&defineProperty(this,"name",{configurable:!0,value:e,writable:!0}),captureStackTrace(this,this.constructor)}function makeError(r,e){e&&e!==Error||(e=BaseError);var t;return isString(r)?(t=r,r=function(){e.apply(this,arguments)}):t=r.name,r.super_=r["super"]=e,r.prototype=Object.create(e.prototype,{constructor:{configurable:!0,value:r,writable:!0},name:{configurable:!0,value:t,writable:!0}}),r}var defineProperty=Object.defineProperty,isString=function(r){var e=r.call("");return function(t){return r.call(t)===e}}(Object.prototype.toString),captureStackTrace;captureStackTrace=Error.captureStackTrace?Error.captureStackTrace:function(r){var e=new Error;defineProperty(r,"stack",{configurable:!0,get:function(){var r=e.stack;return defineProperty(this,"stack",{value:r}),r},set:function(e){defineProperty(r,"stack",{configurable:!0,value:e,writable:!0})}})},BaseError.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:BaseError,writable:!0}}),exports=module.exports=makeError,exports.BaseError=BaseError;
},{}],7:[function(require,module,exports){
function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=cachedSetTimeout(cleanUpNextTick);draining=!0;for(var r=queue.length;r;){for(currentQueue=queue,queue=[];++queueIndex<r;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,r=queue.length}currentQueue=null,draining=!1,cachedClearTimeout(e)}}function Item(e,r){this.fun=e,this.array=r}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout=setTimeout}catch(e){cachedSetTimeout=function(){throw new Error("setTimeout is not defined")}}try{cachedClearTimeout=clearTimeout}catch(e){cachedClearTimeout=function(){throw new Error("clearTimeout is not defined")}}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)r[n-1]=arguments[n];queue.push(new Item(e,r)),1!==queue.length||draining||cachedSetTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}],8:[function(require,module,exports){
var geometryArea=require("geojson-area").geometry;module.exports=function(e){if("FeatureCollection"===e.type){for(var r=0,t=0;r<e.features.length;r++)e.features[r].geometry&&(t+=geometryArea(e.features[r].geometry));return t}return geometryArea("Feature"===e.type?e.geometry:e)};
},{"geojson-area":3}],9:[function(require,module,exports){
function toRad(t){return t*Math.PI/180}function toDeg(t){return 180*t/Math.PI}module.exports=function(t,o){var a=t.geometry.coordinates,n=o.geometry.coordinates,e=toRad(a[0]),r=toRad(n[0]),h=toRad(a[1]),s=toRad(n[1]),M=Math.sin(r-e)*Math.cos(s),c=Math.cos(h)*Math.sin(s)-Math.sin(h)*Math.cos(s)*Math.cos(r-e),d=toDeg(Math.atan2(M,c));return d};
},{}],10:[function(require,module,exports){
var each=require("turf-meta").coordEach,point=require("turf-helpers").point;module.exports=function(r){var e=0,t=0,o=0;return each(r,function(r){e+=r[0],t+=r[1],o++},!0),point([e/o,t/o])};
},{"turf-helpers":14,"turf-meta":18}],11:[function(require,module,exports){
function toRad(t){return t*Math.PI/180}function toDeg(t){return 180*t/Math.PI}var point=require("turf-point");module.exports=function(t,a,e,o){var s=t.geometry.coordinates,n=toRad(s[0]),r=toRad(s[1]),i=toRad(e),h=0;switch(o){case"miles":h=3960;break;case"kilometers":h=6373;break;case"degrees":h=57.2957795;break;case"radians":h=1}var M=Math.asin(Math.sin(r)*Math.cos(a/h)+Math.cos(r)*Math.sin(a/h)*Math.cos(i)),c=n+Math.atan2(Math.sin(i)*Math.sin(a/h)*Math.cos(r),Math.cos(a/h)-Math.sin(r)*Math.sin(M));return point([toDeg(c),toDeg(M)])};
},{"turf-point":19}],12:[function(require,module,exports){
function toRad(a){return a*Math.PI/180}var invariant=require("turf-invariant");module.exports=function(a,t,e){invariant.featureOf(a,"Point","distance"),invariant.featureOf(t,"Point","distance");var r,n=a.geometry.coordinates,o=t.geometry.coordinates,i=toRad(o[1]-n[1]),s=toRad(o[0]-n[0]),c=toRad(n[1]),d=toRad(o[1]),h=Math.pow(Math.sin(i/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(c)*Math.cos(d),u=2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h));switch(e){case"miles":r=3960;break;case"kilometers":case"kilometres":r=6373;break;case"degrees":r=57.2957795;break;case"radians":r=1;break;case void 0:r=6373;break;default:throw new Error('unknown option given to "units"')}var M=r*u;return M};
},{"turf-invariant":16}],13:[function(require,module,exports){
module.exports=function(e){return{type:"FeatureCollection",features:e}};
},{}],14:[function(require,module,exports){
function feature(e,r){return{type:"Feature",properties:r||{},geometry:e}}module.exports.feature=feature,module.exports.point=function(e,r){if(!Array.isArray(e))throw new Error("Coordinates must be an array");if(e.length<2)throw new Error("Coordinates must be at least 2 numbers long");return feature({type:"Point",coordinates:e.slice()},r)},module.exports.polygon=function(e,r){if(!e)throw new Error("No coordinates passed");for(var o=0;o<e.length;o++)for(var t=e[o],n=0;n<t[t.length-1].length;n++){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1][n]!==t[0][n])throw new Error("First and last Position are not equivalent.")}return feature({type:"Polygon",coordinates:e},r)},module.exports.lineString=function(e,r){if(!e)throw new Error("No coordinates passed");return feature({type:"LineString",coordinates:e},r)},module.exports.featureCollection=function(e){return{type:"FeatureCollection",features:e}},module.exports.multiLineString=function(e,r){if(!e)throw new Error("No coordinates passed");return feature({type:"MultiLineString",coordinates:e},r)},module.exports.multiPoint=function(e,r){if(!e)throw new Error("No coordinates passed");return feature({type:"MultiPoint",coordinates:e},r)},module.exports.multiPolygon=function(e,r){if(!e)throw new Error("No coordinates passed");return feature({type:"MultiPolygon",coordinates:e},r)},module.exports.geometryCollection=function(e,r){return feature({type:"GeometryCollection",geometries:e},r)};var factors={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,kilometers:6373,kilometres:6373};module.exports.radiansToDistance=function(e,r){var o=factors[r||"kilometers"];if(void 0===o)throw new Error("Invalid unit");return e*o},module.exports.distanceToRadians=function(e,r){var o=factors[r||"kilometers"];if(void 0===o)throw new Error("Invalid unit");return e/o},module.exports.distanceToDegrees=function(e,r){var o=factors[r||"kilometers"];if(void 0===o)throw new Error("Invalid unit");return e/o*57.2958};
},{}],15:[function(require,module,exports){
function inRing(e,n){for(var r=!1,o=0,t=n.length-1;o<n.length;t=o++){var g=n[o][0],i=n[o][1],a=n[t][0],f=n[t][1],l=i>e[1]!=f>e[1]&&e[0]<(a-g)*(e[1]-i)/(f-i)+g;l&&(r=!r)}return r}module.exports=function(e,n){var r=n.geometry.coordinates,o=[e.geometry.coordinates[0],e.geometry.coordinates[1]];"Polygon"===n.geometry.type&&(r=[r]);for(var t=!1,g=0;g<r.length&&!t;){if(inRing(o,r[g][0])){for(var i=!1,a=1;a<r[g].length&&!i;)inRing(o,r[g][a])&&(i=!0),a++;i||(t=!0)}g++}return t};
},{}],16:[function(require,module,exports){
function geojsonType(e,r,t){if(!r||!t)throw new Error("type and name required");if(!e||e.type!==r)throw new Error("Invalid input to "+t+": must be a "+r+", given "+e.type)}function featureOf(e,r,t){if(!t)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+t+", Feature with geometry required");if(!e.geometry||e.geometry.type!==r)throw new Error("Invalid input to "+t+": must be a "+r+", given "+e.geometry.type)}function collectionOf(e,r,t){if(!t)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+t+", FeatureCollection required");for(var o=0;o<e.features.length;o++){var n=e.features[o];if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+t+", Feature with geometry required");if(!n.geometry||n.geometry.type!==r)throw new Error("Invalid input to "+t+": must be a "+r+", given "+n.geometry.type)}}module.exports.geojsonType=geojsonType,module.exports.collectionOf=collectionOf,module.exports.featureOf=featureOf;
},{}],17:[function(require,module,exports){
module.exports=function(e,r){if(!e)throw new Error("No coordinates passed");return{type:"Feature",geometry:{type:"LineString",coordinates:e},properties:r||{}}};
},{}],18:[function(require,module,exports){
function coordEach(e,o,t){var r,n,c,u,l,p,a,i,f,h,d=0,s="FeatureCollection"===e.type,y="Feature"===e.type,g=s?e.features.length:1;for(r=0;g>r;r++)for(f=s?e.features[r].geometry:y?e.geometry:e,h="GeometryCollection"===f.type,a=h?f.geometries.length:1,u=0;a>u;u++)if(p=h?f.geometries[u]:f,i=p.coordinates,d=!t||"Polygon"!==p.type&&"MultiPolygon"!==p.type?0:1,"Point"===p.type)o(i);else if("LineString"===p.type||"MultiPoint"===p.type)for(n=0;n<i.length;n++)o(i[n]);else if("Polygon"===p.type||"MultiLineString"===p.type)for(n=0;n<i.length;n++)for(c=0;c<i[n].length-d;c++)o(i[n][c]);else{if("MultiPolygon"!==p.type)throw new Error("Unknown Geometry Type");for(n=0;n<i.length;n++)for(c=0;c<i[n].length;c++)for(l=0;l<i[n][c].length-d;l++)o(i[n][c][l])}}function coordReduce(e,o,t,r){return coordEach(e,function(e){t=o(t,e)},r),t}function propEach(e,o){var t;switch(e.type){case"FeatureCollection":for(t=0;t<e.features.length;t++)o(e.features[t].properties);break;case"Feature":o(e.properties)}}function propReduce(e,o,t){return propEach(e,function(e){t=o(t,e)}),t}function featureEach(e,o){if("Feature"===e.type)return o(e);if("FeatureCollection"===e.type)for(var t=0;t<e.features.length;t++)o(e.features[t])}function coordAll(e){var o=[];return coordEach(e,function(e){o.push(e)}),o}module.exports.coordEach=coordEach,module.exports.coordReduce=coordReduce,module.exports.propEach=propEach,module.exports.propReduce=propReduce,module.exports.featureEach=featureEach,module.exports.coordAll=coordAll;
},{}],19:[function(require,module,exports){
var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};module.exports=function(r,t){if(!isArray(r))throw new Error("Coordinates must be an array");if(r.length<2)throw new Error("Coordinates must be at least 2 numbers long");return{type:"Feature",geometry:{type:"Point",coordinates:r},properties:t||{}}};
},{}],20:[function(require,module,exports){
var inside=require("turf-inside"),featureCollection=require("turf-featurecollection");module.exports=function(e,r){for(var t=featureCollection([]),u=0;u<r.features.length;u++)for(var f=0;f<e.features.length;f++){var a=inside(e.features[f],r.features[u]);a&&t.features.push(e.features[f])}return t};
},{"turf-featurecollection":13,"turf-inside":15}],21:[function(require,module,exports){
module.exports=function(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8};
},{}],22:[function(require,module,exports){
(function (process,global){
function inspect(e,r){var t={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),isBoolean(r)?t.showHidden=r:r&&exports._extend(t,r),isUndefined(t.showHidden)&&(t.showHidden=!1),isUndefined(t.depth)&&(t.depth=2),isUndefined(t.colors)&&(t.colors=!1),isUndefined(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=stylizeWithColor),formatValue(t,e,t.depth)}function stylizeWithColor(e,r){var t=inspect.styles[r];return t?"["+inspect.colors[t][0]+"m"+e+"["+inspect.colors[t][1]+"m":e}function stylizeNoColor(e,r){return e}function arrayToHash(e){var r={};return e.forEach(function(e,t){r[e]=!0}),r}function formatValue(e,r,t){if(e.customInspect&&r&&isFunction(r.inspect)&&r.inspect!==exports.inspect&&(!r.constructor||r.constructor.prototype!==r)){var n=r.inspect(t,e);return isString(n)||(n=formatValue(e,n,t)),n}var i=formatPrimitive(e,r);if(i)return i;var o=Object.keys(r),s=arrayToHash(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),isError(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return formatError(r);if(0===o.length){if(isFunction(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(isRegExp(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(isDate(r))return e.stylize(Date.prototype.toString.call(r),"date");if(isError(r))return formatError(r)}var c="",a=!1,l=["{","}"];if(isArray(r)&&(a=!0,l=["[","]"]),isFunction(r)){var p=r.name?": "+r.name:"";c=" [Function"+p+"]"}if(isRegExp(r)&&(c=" "+RegExp.prototype.toString.call(r)),isDate(r)&&(c=" "+Date.prototype.toUTCString.call(r)),isError(r)&&(c=" "+formatError(r)),0===o.length&&(!a||0==r.length))return l[0]+c+l[1];if(0>t)return isRegExp(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var f;return f=a?formatArray(e,r,t,s,o):o.map(function(n){return formatProperty(e,r,t,s,n,a)}),e.seen.pop(),reduceToSingleString(f,c,l)}function formatPrimitive(e,r){if(isUndefined(r))return e.stylize("undefined","undefined");if(isString(r)){var t="'"+JSON.stringify(r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(t,"string")}return isNumber(r)?e.stylize(""+r,"number"):isBoolean(r)?e.stylize(""+r,"boolean"):isNull(r)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,r,t,n,i){for(var o=[],s=0,u=r.length;u>s;++s)hasOwnProperty(r,String(s))?o.push(formatProperty(e,r,t,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(formatProperty(e,r,t,n,i,!0))}),o}function formatProperty(e,r,t,n,i,o){var s,u,c;if(c=Object.getOwnPropertyDescriptor(r,i)||{value:r[i]},c.get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),hasOwnProperty(n,i)||(s="["+i+"]"),u||(e.seen.indexOf(c.value)<0?(u=isNull(t)?formatValue(e,c.value,null):formatValue(e,c.value,t-1),u.indexOf("\n")>-1&&(u=o?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),isUndefined(s)){if(o&&i.match(/^\d+$/))return u;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function reduceToSingleString(e,r,t){var n=0,i=e.reduce(function(e,r){return n++,r.indexOf("\n")>=0&&n++,e+r.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?t[0]+(""===r?"":r+"\n ")+" "+e.join(",\n  ")+" "+t[1]:t[0]+r+" "+e.join(", ")+" "+t[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return 10>e?"0"+e.toString(10):e.toString(10)}function timestamp(){var e=new Date,r=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),months[e.getMonth()],r].join(" ")}function hasOwnProperty(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var formatRegExp=/%[sdj%]/g;exports.format=function(e){if(!isString(e)){for(var r=[],t=0;t<arguments.length;t++)r.push(inspect(arguments[t]));return r.join(" ")}for(var t=1,n=arguments,i=n.length,o=String(e).replace(formatRegExp,function(e){if("%%"===e)return"%";if(t>=i)return e;switch(e){case"%s":return String(n[t++]);case"%d":return Number(n[t++]);case"%j":try{return JSON.stringify(n[t++])}catch(r){return"[Circular]"}default:return e}}),s=n[t];i>t;s=n[++t])o+=isNull(s)||!isObject(s)?" "+s:" "+inspect(s);return o},exports.deprecate=function(e,r){function t(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(e,r).apply(this,arguments)};if(process.noDeprecation===!0)return e;var n=!1;return t};var debugs={},debugEnviron;exports.debuglog=function(e){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!debugs[e])if(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)){var r=process.pid;debugs[e]=function(){var t=exports.format.apply(exports,arguments);console.error("%s %d: %s",e,r,t)}}else debugs[e]=function(){};return debugs[e]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,r){if(!r||!isObject(r))return e;for(var t=Object.keys(r),n=t.length;n--;)e[t[n]]=r[t[n]];return e};
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./support/isBuffer":21,"_process":7,"inherits":4}],23:[function(require,module,exports){
function Voronoi(){this.vertices=null,this.edges=null,this.cells=null,this.toRecycle=null,this.beachsectionJunkyard=[],this.circleEventJunkyard=[],this.vertexJunkyard=[],this.edgeJunkyard=[],this.cellJunkyard=[]}Voronoi.prototype.reset=function(){if(this.beachline||(this.beachline=new this.RBTree),this.beachline.root)for(var e=this.beachline.getFirst(this.beachline.root);e;)this.beachsectionJunkyard.push(e),e=e.rbNext;this.beachline.root=null,this.circleEvents||(this.circleEvents=new this.RBTree),this.circleEvents.root=this.firstCircleEvent=null,this.vertices=[],this.edges=[],this.cells=[]},Voronoi.prototype.sqrt=Math.sqrt,Voronoi.prototype.abs=Math.abs,Voronoi.prototype.ε=Voronoi.ε=1e-9,Voronoi.prototype.invε=Voronoi.invε=1/Voronoi.ε,Voronoi.prototype.equalWithEpsilon=function(e,t){return this.abs(e-t)<1e-9},Voronoi.prototype.greaterThanWithEpsilon=function(e,t){return e-t>1e-9},Voronoi.prototype.greaterThanOrEqualWithEpsilon=function(e,t){return 1e-9>t-e},Voronoi.prototype.lessThanWithEpsilon=function(e,t){return t-e>1e-9},Voronoi.prototype.lessThanOrEqualWithEpsilon=function(e,t){return 1e-9>e-t},Voronoi.prototype.RBTree=function(){this.root=null},Voronoi.prototype.RBTree.prototype.rbInsertSuccessor=function(e,t){var r;if(e){if(t.rbPrevious=e,t.rbNext=e.rbNext,e.rbNext&&(e.rbNext.rbPrevious=t),e.rbNext=t,e.rbRight){for(e=e.rbRight;e.rbLeft;)e=e.rbLeft;e.rbLeft=t}else e.rbRight=t;r=e}else this.root?(e=this.getFirst(this.root),t.rbPrevious=null,t.rbNext=e,e.rbPrevious=t,e.rbLeft=t,r=e):(t.rbPrevious=t.rbNext=null,this.root=t,r=null);t.rbLeft=t.rbRight=null,t.rbParent=r,t.rbRed=!0;var i,o;for(e=t;r&&r.rbRed;)i=r.rbParent,r===i.rbLeft?(o=i.rbRight,o&&o.rbRed?(r.rbRed=o.rbRed=!1,i.rbRed=!0,e=i):(e===r.rbRight&&(this.rbRotateLeft(r),e=r,r=e.rbParent),r.rbRed=!1,i.rbRed=!0,this.rbRotateRight(i))):(o=i.rbLeft,o&&o.rbRed?(r.rbRed=o.rbRed=!1,i.rbRed=!0,e=i):(e===r.rbLeft&&(this.rbRotateRight(r),e=r,r=e.rbParent),r.rbRed=!1,i.rbRed=!0,this.rbRotateLeft(i))),r=e.rbParent;this.root.rbRed=!1},Voronoi.prototype.RBTree.prototype.rbRemoveNode=function(e){e.rbNext&&(e.rbNext.rbPrevious=e.rbPrevious),e.rbPrevious&&(e.rbPrevious.rbNext=e.rbNext),e.rbNext=e.rbPrevious=null;var t,r=e.rbParent,i=e.rbLeft,o=e.rbRight;t=i?o?this.getFirst(o):i:o,r?r.rbLeft===e?r.rbLeft=t:r.rbRight=t:this.root=t;var s;if(i&&o?(s=t.rbRed,t.rbRed=e.rbRed,t.rbLeft=i,i.rbParent=t,t!==o?(r=t.rbParent,t.rbParent=e.rbParent,e=t.rbRight,r.rbLeft=e,t.rbRight=o,o.rbParent=t):(t.rbParent=r,r=t,e=t.rbRight)):(s=e.rbRed,e=t),e&&(e.rbParent=r),!s){if(e&&e.rbRed)return void(e.rbRed=!1);var n;do{if(e===this.root)break;if(e===r.rbLeft){if(n=r.rbRight,n.rbRed&&(n.rbRed=!1,r.rbRed=!0,this.rbRotateLeft(r),n=r.rbRight),n.rbLeft&&n.rbLeft.rbRed||n.rbRight&&n.rbRight.rbRed){n.rbRight&&n.rbRight.rbRed||(n.rbLeft.rbRed=!1,n.rbRed=!0,this.rbRotateRight(n),n=r.rbRight),n.rbRed=r.rbRed,r.rbRed=n.rbRight.rbRed=!1,this.rbRotateLeft(r),e=this.root;break}}else if(n=r.rbLeft,n.rbRed&&(n.rbRed=!1,r.rbRed=!0,this.rbRotateRight(r),n=r.rbLeft),n.rbLeft&&n.rbLeft.rbRed||n.rbRight&&n.rbRight.rbRed){n.rbLeft&&n.rbLeft.rbRed||(n.rbRight.rbRed=!1,n.rbRed=!0,this.rbRotateLeft(n),n=r.rbLeft),n.rbRed=r.rbRed,r.rbRed=n.rbLeft.rbRed=!1,this.rbRotateRight(r),e=this.root;break}n.rbRed=!0,e=r,r=r.rbParent}while(!e.rbRed);e&&(e.rbRed=!1)}},Voronoi.prototype.RBTree.prototype.rbRotateLeft=function(e){var t=e,r=e.rbRight,i=t.rbParent;i?i.rbLeft===t?i.rbLeft=r:i.rbRight=r:this.root=r,r.rbParent=i,t.rbParent=r,t.rbRight=r.rbLeft,t.rbRight&&(t.rbRight.rbParent=t),r.rbLeft=t},Voronoi.prototype.RBTree.prototype.rbRotateRight=function(e){var t=e,r=e.rbLeft,i=t.rbParent;i?i.rbLeft===t?i.rbLeft=r:i.rbRight=r:this.root=r,r.rbParent=i,t.rbParent=r,t.rbLeft=r.rbRight,t.rbLeft&&(t.rbLeft.rbParent=t),r.rbRight=t},Voronoi.prototype.RBTree.prototype.getFirst=function(e){for(;e.rbLeft;)e=e.rbLeft;return e},Voronoi.prototype.RBTree.prototype.getLast=function(e){for(;e.rbRight;)e=e.rbRight;return e},Voronoi.prototype.Diagram=function(e){this.site=e},Voronoi.prototype.Cell=function(e){this.site=e,this.halfedges=[],this.closeMe=!1},Voronoi.prototype.Cell.prototype.init=function(e){return this.site=e,this.halfedges=[],this.closeMe=!1,this},Voronoi.prototype.createCell=function(e){var t=this.cellJunkyard.pop();return t?t.init(e):new this.Cell(e)},Voronoi.prototype.Cell.prototype.prepareHalfedges=function(){for(var e,t=this.halfedges,r=t.length;r--;)e=t[r].edge,e.vb&&e.va||t.splice(r,1);return t.sort(function(e,t){return t.angle-e.angle}),t.length},Voronoi.prototype.Cell.prototype.getNeighborIds=function(){for(var e,t=[],r=this.halfedges.length;r--;)e=this.halfedges[r].edge,null!==e.lSite&&e.lSite.voronoiId!=this.site.voronoiId?t.push(e.lSite.voronoiId):null!==e.rSite&&e.rSite.voronoiId!=this.site.voronoiId&&t.push(e.rSite.voronoiId);return t},Voronoi.prototype.Cell.prototype.getBbox=function(){for(var e,t,r,i=this.halfedges,o=i.length,s=1/0,n=1/0,h=-(1/0),a=-(1/0);o--;)e=i[o].getStartpoint(),t=e.x,r=e.y,s>t&&(s=t),n>r&&(n=r),t>h&&(h=t),r>a&&(a=r);return{x:s,y:n,width:h-s,height:a-n}},Voronoi.prototype.Cell.prototype.pointIntersection=function(e,t){for(var r,i,o,s,n=this.halfedges,h=n.length;h--;){if(r=n[h],i=r.getStartpoint(),o=r.getEndpoint(),s=(t-i.y)*(o.x-i.x)-(e-i.x)*(o.y-i.y),!s)return 0;if(s>0)return-1}return 1},Voronoi.prototype.Vertex=function(e,t){this.x=e,this.y=t},Voronoi.prototype.Edge=function(e,t){this.lSite=e,this.rSite=t,this.va=this.vb=null},Voronoi.prototype.Halfedge=function(e,t,r){if(this.site=t,this.edge=e,r)this.angle=Math.atan2(r.y-t.y,r.x-t.x);else{var i=e.va,o=e.vb;this.angle=e.lSite===t?Math.atan2(o.x-i.x,i.y-o.y):Math.atan2(i.x-o.x,o.y-i.y)}},Voronoi.prototype.createHalfedge=function(e,t,r){return new this.Halfedge(e,t,r)},Voronoi.prototype.Halfedge.prototype.getStartpoint=function(){return this.edge.lSite===this.site?this.edge.va:this.edge.vb},Voronoi.prototype.Halfedge.prototype.getEndpoint=function(){return this.edge.lSite===this.site?this.edge.vb:this.edge.va},Voronoi.prototype.createVertex=function(e,t){var r=this.vertexJunkyard.pop();return r?(r.x=e,r.y=t):r=new this.Vertex(e,t),this.vertices.push(r),r},Voronoi.prototype.createEdge=function(e,t,r,i){var o=this.edgeJunkyard.pop();return o?(o.lSite=e,o.rSite=t,o.va=o.vb=null):o=new this.Edge(e,t),this.edges.push(o),r&&this.setEdgeStartpoint(o,e,t,r),i&&this.setEdgeEndpoint(o,e,t,i),this.cells[e.voronoiId].halfedges.push(this.createHalfedge(o,e,t)),this.cells[t.voronoiId].halfedges.push(this.createHalfedge(o,t,e)),o},Voronoi.prototype.createBorderEdge=function(e,t,r){var i=this.edgeJunkyard.pop();return i?(i.lSite=e,i.rSite=null):i=new this.Edge(e,null),i.va=t,i.vb=r,this.edges.push(i),i},Voronoi.prototype.setEdgeStartpoint=function(e,t,r,i){e.va||e.vb?e.lSite===r?e.vb=i:e.va=i:(e.va=i,e.lSite=t,e.rSite=r)},Voronoi.prototype.setEdgeEndpoint=function(e,t,r,i){this.setEdgeStartpoint(e,r,t,i)},Voronoi.prototype.Beachsection=function(){},Voronoi.prototype.createBeachsection=function(e){var t=this.beachsectionJunkyard.pop();return t||(t=new this.Beachsection),t.site=e,t},Voronoi.prototype.leftBreakPoint=function(e,t){var r=e.site,i=r.x,o=r.y,s=o-t;if(!s)return i;var n=e.rbPrevious;if(!n)return-(1/0);r=n.site;var h=r.x,a=r.y,l=a-t;if(!l)return h;var c=h-i,b=1/s-1/l,f=c/l;return b?(-f+this.sqrt(f*f-2*b*(c*c/(-2*l)-a+l/2+o-s/2)))/b+i:(i+h)/2},Voronoi.prototype.rightBreakPoint=function(e,t){var r=e.rbNext;if(r)return this.leftBreakPoint(r,t);var i=e.site;return i.y===t?i.x:1/0},Voronoi.prototype.detachBeachsection=function(e){this.detachCircleEvent(e),this.beachline.rbRemoveNode(e),this.beachsectionJunkyard.push(e)},Voronoi.prototype.removeBeachsection=function(e){var t=e.circleEvent,r=t.x,i=t.ycenter,o=this.createVertex(r,i),s=e.rbPrevious,n=e.rbNext,h=[e],a=Math.abs;this.detachBeachsection(e);for(var l=s;l.circleEvent&&a(r-l.circleEvent.x)<1e-9&&a(i-l.circleEvent.ycenter)<1e-9;)s=l.rbPrevious,h.unshift(l),this.detachBeachsection(l),l=s;h.unshift(l),this.detachCircleEvent(l);for(var c=n;c.circleEvent&&a(r-c.circleEvent.x)<1e-9&&a(i-c.circleEvent.ycenter)<1e-9;)n=c.rbNext,h.push(c),this.detachBeachsection(c),c=n;h.push(c),this.detachCircleEvent(c);var b,f=h.length;for(b=1;f>b;b++)c=h[b],l=h[b-1],this.setEdgeStartpoint(c.edge,l.site,c.site,o);l=h[0],c=h[f-1],c.edge=this.createEdge(l.site,c.site,void 0,o),this.attachCircleEvent(l),this.attachCircleEvent(c)},Voronoi.prototype.addBeachsection=function(e){for(var t,r,i,o,s=e.x,n=e.y,h=this.beachline.root;h;)if(i=this.leftBreakPoint(h,n)-s,i>1e-9)h=h.rbLeft;else{if(o=s-this.rightBreakPoint(h,n),!(o>1e-9)){i>-1e-9?(t=h.rbPrevious,r=h):o>-1e-9?(t=h,r=h.rbNext):t=r=h;break}if(!h.rbRight){t=h;break}h=h.rbRight}var a=this.createBeachsection(e);if(this.beachline.rbInsertSuccessor(t,a),t||r){if(t===r)return this.detachCircleEvent(t),r=this.createBeachsection(t.site),this.beachline.rbInsertSuccessor(a,r),a.edge=r.edge=this.createEdge(t.site,a.site),this.attachCircleEvent(t),void this.attachCircleEvent(r);if(t&&!r)return void(a.edge=this.createEdge(t.site,a.site));if(t!==r){this.detachCircleEvent(t),this.detachCircleEvent(r);var l=t.site,c=l.x,b=l.y,f=e.x-c,u=e.y-b,d=r.site,p=d.x-c,v=d.y-b,y=2*(f*v-u*p),g=f*f+u*u,R=p*p+v*v,x=this.createVertex((v*g-u*R)/y+c,(f*R-p*g)/y+b);return this.setEdgeStartpoint(r.edge,l,d,x),a.edge=this.createEdge(l,e,void 0,x),r.edge=this.createEdge(e,d,void 0,x),this.attachCircleEvent(t),void this.attachCircleEvent(r)}}},Voronoi.prototype.CircleEvent=function(){this.arc=null,this.rbLeft=null,this.rbNext=null,this.rbParent=null,this.rbPrevious=null,this.rbRed=!1,this.rbRight=null,this.site=null,this.x=this.y=this.ycenter=0},Voronoi.prototype.attachCircleEvent=function(e){var t=e.rbPrevious,r=e.rbNext;if(t&&r){var i=t.site,o=e.site,s=r.site;if(i!==s){var n=o.x,h=o.y,a=i.x-n,l=i.y-h,c=s.x-n,b=s.y-h,f=2*(a*b-l*c);if(!(f>=-2e-12)){var u=a*a+l*l,d=c*c+b*b,p=(b*u-l*d)/f,v=(a*d-c*u)/f,y=v+h,g=this.circleEventJunkyard.pop();g||(g=new this.CircleEvent),g.arc=e,g.site=o,g.x=p+n,g.y=y+this.sqrt(p*p+v*v),g.ycenter=y,e.circleEvent=g;for(var R=null,x=this.circleEvents.root;x;)if(g.y<x.y||g.y===x.y&&g.x<=x.x){if(!x.rbLeft){R=x.rbPrevious;break}x=x.rbLeft}else{if(!x.rbRight){R=x;break}x=x.rbRight}this.circleEvents.rbInsertSuccessor(R,g),R||(this.firstCircleEvent=g)}}}},Voronoi.prototype.detachCircleEvent=function(e){var t=e.circleEvent;t&&(t.rbPrevious||(this.firstCircleEvent=t.rbNext),this.circleEvents.rbRemoveNode(t),this.circleEventJunkyard.push(t),e.circleEvent=null)},Voronoi.prototype.connectEdge=function(e,t){var r=e.vb;if(r)return!0;var i,o,s=e.va,n=t.xl,h=t.xr,a=t.yt,l=t.yb,c=e.lSite,b=e.rSite,f=c.x,u=c.y,d=b.x,p=b.y,v=(f+d)/2,y=(u+p)/2;if(this.cells[c.voronoiId].closeMe=!0,this.cells[b.voronoiId].closeMe=!0,p!==u&&(i=(f-d)/(p-u),o=y-i*v),void 0===i){if(n>v||v>=h)return!1;if(f>d){if(!s||s.y<a)s=this.createVertex(v,a);else if(s.y>=l)return!1;r=this.createVertex(v,l)}else{if(!s||s.y>l)s=this.createVertex(v,l);else if(s.y<a)return!1;r=this.createVertex(v,a)}}else if(-1>i||i>1)if(f>d){if(!s||s.y<a)s=this.createVertex((a-o)/i,a);else if(s.y>=l)return!1;r=this.createVertex((l-o)/i,l)}else{if(!s||s.y>l)s=this.createVertex((l-o)/i,l);else if(s.y<a)return!1;r=this.createVertex((a-o)/i,a)}else if(p>u){if(!s||s.x<n)s=this.createVertex(n,i*n+o);else if(s.x>=h)return!1;r=this.createVertex(h,i*h+o)}else{if(!s||s.x>h)s=this.createVertex(h,i*h+o);else if(s.x<n)return!1;r=this.createVertex(n,i*n+o)}return e.va=s,e.vb=r,!0},Voronoi.prototype.clipEdge=function(e,t){var r=e.va.x,i=e.va.y,o=e.vb.x,s=e.vb.y,n=0,h=1,a=o-r,l=s-i,c=r-t.xl;if(0===a&&0>c)return!1;var b=-c/a;if(0>a){if(n>b)return!1;h>b&&(h=b)}else if(a>0){if(b>h)return!1;b>n&&(n=b)}if(c=t.xr-r,0===a&&0>c)return!1;if(b=c/a,0>a){if(b>h)return!1;b>n&&(n=b)}else if(a>0){if(n>b)return!1;h>b&&(h=b)}if(c=i-t.yt,0===l&&0>c)return!1;if(b=-c/l,0>l){if(n>b)return!1;h>b&&(h=b)}else if(l>0){if(b>h)return!1;b>n&&(n=b)}if(c=t.yb-i,0===l&&0>c)return!1;if(b=c/l,0>l){if(b>h)return!1;b>n&&(n=b)}else if(l>0){if(n>b)return!1;h>b&&(h=b)}return n>0&&(e.va=this.createVertex(r+n*a,i+n*l)),1>h&&(e.vb=this.createVertex(r+h*a,i+h*l)),(n>0||1>h)&&(this.cells[e.lSite.voronoiId].closeMe=!0,this.cells[e.rSite.voronoiId].closeMe=!0),!0},Voronoi.prototype.clipEdges=function(e){for(var t,r=this.edges,i=r.length,o=Math.abs;i--;)t=r[i],(!this.connectEdge(t,e)||!this.clipEdge(t,e)||o(t.va.x-t.vb.x)<1e-9&&o(t.va.y-t.vb.y)<1e-9)&&(t.va=t.vb=null,r.splice(i,1))},Voronoi.prototype.closeCells=function(e){for(var t,r,i,o,s,n,h,a,l,c=e.xl,b=e.xr,f=e.yt,u=e.yb,d=this.cells,p=d.length,v=Math.abs;p--;)if(t=d[p],t.prepareHalfedges()&&t.closeMe){for(i=t.halfedges,o=i.length,r=0;o>r;){if(n=i[r].getEndpoint(),a=i[(r+1)%o].getStartpoint(),v(n.x-a.x)>=1e-9||v(n.y-a.y)>=1e-9)switch(!0){case this.equalWithEpsilon(n.x,c)&&this.lessThanWithEpsilon(n.y,u):if(l=this.equalWithEpsilon(a.x,c),h=this.createVertex(c,l?a.y:u),s=this.createBorderEdge(t.site,n,h),r++,i.splice(r,0,this.createHalfedge(s,t.site,null)),o++,l)break;n=h;case this.equalWithEpsilon(n.y,u)&&this.lessThanWithEpsilon(n.x,b):if(l=this.equalWithEpsilon(a.y,u),h=this.createVertex(l?a.x:b,u),s=this.createBorderEdge(t.site,n,h),r++,i.splice(r,0,this.createHalfedge(s,t.site,null)),o++,l)break;n=h;case this.equalWithEpsilon(n.x,b)&&this.greaterThanWithEpsilon(n.y,f):if(l=this.equalWithEpsilon(a.x,b),h=this.createVertex(b,l?a.y:f),s=this.createBorderEdge(t.site,n,h),r++,i.splice(r,0,this.createHalfedge(s,t.site,null)),o++,l)break;n=h;case this.equalWithEpsilon(n.y,f)&&this.greaterThanWithEpsilon(n.x,c):if(l=this.equalWithEpsilon(a.y,f),h=this.createVertex(l?a.x:c,f),s=this.createBorderEdge(t.site,n,h),r++,i.splice(r,0,this.createHalfedge(s,t.site,null)),o++,l)break;if(n=h,l=this.equalWithEpsilon(a.x,c),h=this.createVertex(c,l?a.y:u),s=this.createBorderEdge(t.site,n,h),r++,i.splice(r,0,this.createHalfedge(s,t.site,null)),o++,l)break;if(n=h,l=this.equalWithEpsilon(a.y,u),h=this.createVertex(l?a.x:b,u),s=this.createBorderEdge(t.site,n,h),r++,i.splice(r,0,this.createHalfedge(s,t.site,null)),o++,l)break;if(n=h,l=this.equalWithEpsilon(a.x,b),h=this.createVertex(b,l?a.y:f),s=this.createBorderEdge(t.site,n,h),r++,i.splice(r,0,this.createHalfedge(s,t.site,null)),o++,l)break;default:throw"Voronoi.closeCells() > this makes no sense!"}r++}t.closeMe=!1}},Voronoi.prototype.quantizeSites=function(e){for(var t,r=this.ε,i=e.length;i--;)t=e[i],t.x=Math.floor(t.x/r)*r,t.y=Math.floor(t.y/r)*r},Voronoi.prototype.recycle=function(e){if(e){if(!(e instanceof this.Diagram))throw"Voronoi.recycleDiagram() > Need a Diagram object.";this.toRecycle=e}},Voronoi.prototype.compute=function(e,t){var r=new Date;this.reset(),this.toRecycle&&(this.vertexJunkyard=this.vertexJunkyard.concat(this.toRecycle.vertices),this.edgeJunkyard=this.edgeJunkyard.concat(this.toRecycle.edges),this.cellJunkyard=this.cellJunkyard.concat(this.toRecycle.cells),this.toRecycle=null);var i=e.slice(0);i.sort(function(e,t){var r=t.y-e.y;return r?r:t.x-e.x});for(var o,s,n,h=i.pop(),a=0,l=this.cells;;)if(n=this.firstCircleEvent,h&&(!n||h.y<n.y||h.y===n.y&&h.x<n.x))h.x===o&&h.y===s||(l[a]=this.createCell(h),h.voronoiId=a++,this.addBeachsection(h),s=h.y,o=h.x),h=i.pop();else{if(!n)break;this.removeBeachsection(n.arc)}this.clipEdges(t),this.closeCells(t);var c=new Date,b=new this.Diagram;return b.cells=this.cells,b.edges=this.edges,b.vertices=this.vertices,b.execTime=c.getTime()-r.getTime(),this.reset(),b},"undefined"!=typeof module&&(module.exports=Voronoi);
},{}],24:[function(require,module,exports){
module.exports.RADIUS=6378137,module.exports.FLATTENING=1/298.257223563,module.exports.POLAR_RADIUS=6356752.3142;
},{}],25:[function(require,module,exports){
function inspect(o,t){return util.inspect(o,{depth:t||null})}function GeoJSONUtils(){}var area=require("turf-area"),_=require("lodash"),util=require("util");GeoJSONUtils.prototype.fixMultiPoly=function(o){var t=this;if("MultiPolygon"==o.geometry.type&&1==o.geometry.coordinates[0].length)return o.geometry.type="Polygon",o.geometry.coordinates=o.geometry.coordinates[0],o;if("MultiPolygon"==o.geometry.type&&o.geometry.coordinates[0].length>1){var e=_.map(o.geometry.coordinates[0],function(o){return t._toGeoJSONFeature(t._toGeoJSONPolygon(o))}),r=_.map(e,area),n=_.indexOf(r,_.max(r));return e[n]}return o},GeoJSONUtils.prototype.sites=function(o,t){void 0===t&&(t=1e-20);for(var e,r,n,i,l=[],a=0;a<o.geometry.coordinates.length;a++)for(var u=o.geometry.coordinates[a].slice(),y=0;y<u.length-1;y++)l.push({x:Math.floor(u[y][0]/t)*t,y:Math.floor(u[y][1]/t)*t}),l.push({x:Math.floor((u[y][0]+u[y+1][0])/2/t)*t,y:Math.floor((u[y][1]+u[y+1][1])/2/t)*t}),0==a&&0==y?(e=Math.floor(u[y][0]/t)*t,r=e,n=Math.floor(u[y][1]/t)*t,i=n):(u[y][0]<e&&(e=Math.floor(u[y][0]/t)*t),u[y][0]>r&&(r=Math.floor(u[y][0]/t)*t),u[y][1]<n&&(n=Math.floor(u[y][1]/t)*t),u[y][1]>i&&(i=Math.floor(u[y][1]/t)*t));return{sites:l,bbox:{xl:e,xr:r,yt:n,yb:i}}},GeoJSONUtils.prototype._toGeoJSONFeature=function(o){return{type:"Feature",geometry:o}},GeoJSONUtils.prototype._toGeoJSONPolygon=function(o){var t={type:"Polygon",coordinates:[o]};return t},module.exports=new GeoJSONUtils;
},{"lodash":5,"turf-area":8,"util":22}]},{},[2])(2)
});