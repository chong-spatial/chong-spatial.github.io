<!doctype html>
<html>
<head>
  <title>About Hotel Selector</title>
  <style>
    html,body {
      margin:0;padding:0;width:100%;height: 100%;
      box-sizing: border-box;
    }
    body {
      font-family: "Helvetica neue", Helvetica, Arial;
      width: 960px;
      margin: 0 auto;
      padding: 20px;
      background-color: #EBEBEB;
      height: 100%;
      overflow-y:auto;
    }
  </style>
</head>
<body>
  <div id="background">
    <h1>Background and motivation</h1>
    <p>Selector determines several ideal places, e.g., houses, schools, hospitals, stores. </p>
    <p> If we are interested in a particular layer only, e.g., house for sale, only in its data table can various criteria be set up. (Price, Beds, Baths, Year built, Lot size, …)</p>
    <p>What if we take others, like target school, into account? “give me a list of houses within 3 miles from the target school_1”, “give me a list of houses within 2 miles from the target school_2”, “give me a list of houses within 1 miles from the target school_3”, "..."
</p>
    <p>Selector decides on several appropriate POIs given another set of associated/affected POIs </p>
    <p>This prototype is based on Hotel and Attraction, but it can be applied to other scenarios (see below) </p>
  </div>
  <div id="goal">
    <h1>Goal</h1>
    <p>The goal of this project is to find options for stay given a set of interesting attractions that user would like to go to.</p>
  </div>
  <div id="mainview">
    <h1>Main visualizations</h1>
    <ul>
      <li>Map view. Create drive-time polygons, add hotel and attraction layers, and present geospatial context</li>
      <li>Attraction Graph view. Separate interesting attractions from Map to a Graph view. There are many locations on the map but only a few that user is more interested in.</li>
      <li>Hotel Scatterplots. Scatterplot of hotels around each selected attraction. Hotels are distributed intensively in some location. If zooming in, we will lose the context of the whole shape of polygon;
        if coloring them, some 3-minute hotels in a polygon might be 1-minute in other polygon.
        This problem comes from foucs + context and Set Theory.</li>

    </ul>
  </div>

  <div id="challenges">
    <h1>Challenges and Solutions</h1>
    <ul>
        <li>D3Layer implementation </li>
          <ul>
            <li>DOJO Asynchronous Module Definition (AMD)</li>
            <li>D3 takes care of reading, renderring, and feature-level interaction </li>
            <li>AGSJS handles event, transformation, and layer-level interaction</li>
            <li>Heck on AGSJS to understand what's happening internally when map.addLayer()</li>
            <li>Figure out what properties and methods we should extend or override</li>
          </ul>
        <li>Map.graphics</li>
          <ul>
            <li>Map.graphics.remove(graphic). AGSJS can NOT delegate D3/whatever to manage the overlaied graphic even it would create a HTML element. I have to record it in a gloabl variable.</li>
            <li>AGSJS does not create DOM ID/className fro the graphic. I hacked and had a workaround ot have id and classname for that.</li>
            <li>The map.graphic is a GrahpicsLayer. AGSJS forces it to be on the top of map. I hacked the HTML element to move it back so that any point element can be aware of mouse events like click, hoverover, etc.</li>
          </ul>
        <li>Single SVG vs Multiple SVGs</li>
          <ul>
            <li>For scatterplots of hotels, I can do it using a single SVG if brushing is more important, or </li>
            <li>I can use multiple SVGs to get zooming done if zooming is more important. Brushing and zooming are conflict in terms of mouse event handling.</li>
          </ul>
        </li>
        <li>Collison detection working with semantic zooming</li>
          <ul>
            <li>Collison detection algorithm (quadtree) works with the geolocations in the first run. </li>
            <li>When zooming is asked, to avoid jumping, the zooming should based on the current positions rather than the actual geolocations</li>
            <li>The solution is to use current positon domain quadtree created to calcualte the new poision zooming requested</li>
          </ul>
        </li>
        <li>Brushing across multiple scatterplots of hotels</li>
          <ul>
            <li>Geospatial coordinates involve in this interaction, ie. brush domain is geolocation domain</li>
            <li>Each start of a brush will have to use its own geolocation domain, then check if points in other scatterplots fall into that domain</li>
          </ul>
        </li>
    </ul>
  </div>
  <div id="usage">
    <h1>Usage</h1>
    <ul>
        <li>Step1 define interesting attractions or follow the prototype where random 10 are picked.
          <p>The attractions are displayed on the left graph.</p>
          <p>They are colored by theme.</p>
          <p>The number showing on each node is the attracton ID. The attractions are also highlighted on the map.</p>
          <img style="width:100%" src="img/design3.png"></img>
        </li>
        <li>Step2 either from attraction graph view or from the map view, select attractions that you must go to.
          <p>The selected attraction will be outlined with gray background. </p>
          <p>The map will display the drive-time polygon. </p>
          <p>The legend is as shown in the bottom of the map.</p>
          <img style="width:100%" src="img/design41.png"></img>
        </li>
        <li>Step3 scatterplots of hotels around the selected attraction are generated on the below view.
          <p>It represents the drive-time hotels around the selected attraction.</p>
          <p>The color coding is similar to the drive-timep polygon.</p>
          <p>Hotels in these plots keep the placement relationship.</p>
          <p>Local geolocation domain is used which means they have different map extent. But the shape/hull of a cluster of hotels can be recogenized across these plots.</p>
          <img style="width:100%" src="img/design42.png"></img>
        </li>
        <li>Step4 User is able to brush on a particular hotel graph that you are more interested in.
          <p>When brushing to select, the selected hotels in the graph you are brusing on will be highlighted. </p>
          <p>If other graph also these hotels, they are also highlighted based on the drive-time color.</p>
          <p>In the following case, user will have the insight like </p>
          <p><i>"If I would stay in one of these hotels around attraction #385, I could arrive at #234 in 3 minutes, at #470 in 3 minutes, at #265 in 3 minutes, and at #509 in 3 minutes." </i></p>
          <p><i>"The attraction #111 is NOT reachable in the drive-time settings (1, 2, or 3 mintues)" </i></p>

          <img style="width:100%" src="img/design.png"></img>
        </li>
        <li>The detailed information about potential hotels can be found by hovering over the enlarged yellow dot on the map.
          <img src='img/tooltip.png'></img>
        </li>

    </ul>
  </div>

  <div id="scenarios">
    <h1>Other Scenarios</h1>
    <ul>
        <li>Public </li>
          <ul>
            <li>Buying house with predefined school list</li>
            <li>Tank up on the way to find food</li>
          </ul>
        <li>Enterprise </li>
          <ul>
            <li>Customer service - access to issue locations, assign store to send customer to</li>
          </ul>

        <li>Health </li>
          <ul>
            <li>Review pest report locations, and dispatch pest control worker</li>
            <li>Disease outbreaks, plan hospital resources</li>
          </ul>
        <li>Environment </li>
          <ul>
            <li>Monitor dangerous substances affected by earthquake</li>
            <li>Evaluate the efficiency of wind/solar farms served clients</li>
          </ul>
        <li>......</li>
    </ul>
  </div>


    <div id="credits">
      <h4>Applications Prototype Lab. If you have any questions or comments please send them over via email to ChongZhang.NC@gmail.com or SPrasad@esri.com</h4>
    </div>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=10227952; 
    var sc_invisible=1; 
    var sc_security="19025bec"; 
    var sc_https=1; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' async src='" + scJsHost+ 
    "statcounter.com/counter/counter_xhtml.js'></"+"script>"); 
    </script> 
    <noscript><div class='statcounter'><a class='statcounter' href='http://statcounter.com/free-web-stats/' title='web stats'><img alt='web stats' class='statcounter' src='http://c.statcounter.com/10227952/0/19025bec/1/'/></a></div></noscript> 
<!-- End of StatCounter Code for Default Guide -->
  </body>
</html>
